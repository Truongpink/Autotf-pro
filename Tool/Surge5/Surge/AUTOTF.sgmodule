#!name=❏ Auto TestFlight
#!desc=Tự động tham gia ứng dụng TF beta công khai và đóng mô-đun Scriptnày
#!system=ios
#!category=Third Party Module
#!arguments=INFO_FETCH_SCRIPT_NAME:Truy cập thông tin,CRON_SECONDS:1,START_HOUR:0,END_HOUR:23
#!arguments-desc=[parameter settings]\n1. INFO_FETCH_SCRIPT_NAME: Tùy chỉnh điểm bắt đầu và điểm dừng của Script"thu thập thông tin", Sau khi nhận được TestFlight Token và APP_ID Để tránh không cần thiết mitm, Nên thêm # vào tham số tên Script để nhận xét tập lệnh.;\n2. CRON_SECONDS: Tùy chỉnh khoảng thời gian giây để thực thi Script"Thêm bài kiểm tra". Theo mặc định, Script này được thực thi 5 giây một lần.;\n3. START_HOUR: Tùy chỉnh thời gian script "Join Test" bắt đầu thực thi mỗi ngày, mặc định là 0 giờ (mặc định bắt đầu và kết thúc cả ngày);\n4. END_HOUR: Tùy chỉnh thời gian script "Join Test" kết thúc thực thi mỗi ngày, mặc định là 23:00 (mặc định bắt đầu và kết thúc cả ngày);\n\n[Hướng dẫn]\n1. Sau khi kích hoạt tập lệnh "Thu thập thông tin", hãy mở ứng dụng TestFlight để nhận Mã thông báo;\n2. Sau khi bật tập lệnh "Lấy thông tin", hãy nhấp vào liên kết TestFlight để lấy APP_ID;\n3. Điều chỉnh các tham số CRON_SECONDS, START_HOUR, END_HOUR để thay đổi tần suất thực hiện cũng như khoảng thời gian bắt đầu và kết thúc của tập lệnh "Thêm ứng dụng cần treo";\n\n[Vận hành thủ công]\n1. Boxjs điền dữ liệu liên tục của "APP_ID", APP_ID là liên kết TestFlight https://testflight.apple.com/join/LPQmtkUs Chuỗi sau khi nối (chẳng hạn như "LPQmtkUs,xxx,xxx nhiều khóa được phân tách bằng",");\n2. đăng ký Boxjs https://raw.githubusercontent.com/Hely-T/TestFlight-All/master/Tool/Sugar5/boxjs.json; n[Giới thiệu mô-đun]\n▎ Chụp và lưu trữ ID ứng dụng do tác giả TestFlight mở theo cách thủ công hoặc tự động，Và cố gắng tự động tham gia chương trình TestFlight. \n▎ID ứng dụng TestFlight không hợp lệ sẽ tự động bị xóa và có thể xem đầu ra nhật ký ở log.

[Script]
{{{INFO_FETCH_SCRIPT_NAME}}} = type=http-request,pattern=^https:\/\/testflight\.apple\.com\/(v3\/accounts\/.*[^\/accept]|join\/[A-Za-z0-9]+)$,script-path=https://raw.githubusercontent.com/Hely-T/TestFlight-All/master/Tool/Sugar5/Auto_join_TF.js
Tham gia thử nghiệm = type=cron,cronexp="*/{{{CRON_SECONDS}}} * {{{START_HOUR}}}-{{{END_HOUR}}} * * *",script-path=https://raw.githubusercontent.com/Hely-T/TestFlight-All/master/Tool/Sugar5/Auto_join_TF.js,wake-system=1,timeout=180,engine=auto

[MITM]
hostname = %APPEND% testflight.apple.com